<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="member">

	<!-- 회원 정보 조회 -->
  	<select id="selectAllMember" parameterType="String" resultType="memberVo">
  		select * from member
  		where mem_email = #{mem_email}
  	</select>
  	
  	<!-- 개별 회원 정보 조회 -->
  	<select id="selectMember" parameterType="String" resultType="memberVo">
  		select mem_email, mem_nm, mem_gndr, job_no, job_nm, mem_age
  		from member inner join job 
  		on (mem_job = job.JOB_NO)
  		where mem_email = #{mem_email}
  	</select>
  	
  	<!-- 회원수정 -->
  	<update  id="updateUser" parameterType="memberVo">
		update member
		set 
 		mem_email=#{mem_email},
			mem_nm = #{mem_nm},
			mem_gndr=#{mem_gndr},
			mem_job=#{mem_job},
			mem_age=#{mem_age}
		where mem_email = #{mem_email}
	</update >
	
  	
  	<!-- 회원가입 -->
	<insert id="signUpSelection" parameterType="memberVo">
		insert into member (mem_no, mem_email, mem_pass, mem_nm, mem_gndr, mem_job, mem_date, mem_age, mem_lvl)
		values (seq_mem_no.nextval , #{mem_email}, #{mem_pass}, #{mem_nm},#{mem_gndr, jdbcType=CHAR}, #{mem_job, jdbcType=NUMERIC}, sysdate, #{mem_age, jdbcType=VARCHAR}, 3)  
	</insert>
	
	<!-- 직업정보 받아오기 -->
	<select id="job" resultType="memberVo">
		select * from job
		where job_nm is not null
	</select>
	
	<!-- 관심사정보 받아오기 -->
	<select id="interest" resultType="memberVo">
		select *  from interest
	</select>
	
	<!-- 닉네임 중복검사  -->
	<select id="check_nm" parameterType="String" resultType="int">
		select count(*) 
		from member 
		where mem_nm = #{mem_nm}
	</select> 
	
	<!-- 비밀번호 찾기 
	<update id="update_pw" parameterType="memberVo">
		update member 
		set mem_pass = #{mem_pass} 
		where mem_email = #{mem_email}
	</update>-->
	 
	<delete id="delete" >
		Delete From member
	</delete>
	
	
	
</mapper>






















